{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\arhoy\\\\Desktop\\\\cravejs\\\\client\\\\src\\\\components\\\\articles\\\\Articles.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getArticles } from '../../actions/articleActions';\nimport ArticleFeed from './ArticleFeed';\nimport isEmpty from '../../validation/is-empty';\nimport ArticlesHeader from './ArticlesHeader';\n\nvar Articles =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Articles, _Component);\n\n  function Articles() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Articles);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Articles)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      filteredArticles: [],\n      keyword: '',\n      articles: [],\n      results: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"inputChangeHandler\", function (e) {\n      var keyword = e.target.value;\n\n      var filteredArticles = _this.state.articles.filter(function (article) {\n        return article.fields.title.toLowerCase().includes(keyword.toLowerCase().trim()) || article.fields.description.toLowerCase().includes(keyword.toLowerCase().trim()) || article.fields.tags.join().toLowerCase().includes(keyword.toLowerCase().trim());\n      });\n\n      _this.setState({\n        filteredArticles: filteredArticles,\n        keyword: keyword\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Articles, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getArticles(this.props.location.search);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.articles !== this.props.articles) {\n        var selectArticles = this.props.articles.articles.filter(function (article) {\n          return article.fields.description != null;\n        });\n        this.setState({\n          articles: selectArticles\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          articles = _this$props.articles,\n          loading = _this$props.loading;\n      var articleContent;\n      if (loading || isEmpty(articles.articles)) articleContent = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \" Loading \");else {\n        var articlesToLoop = this.state.keyword === '' ? this.state.articles : this.state.filteredArticles;\n        if (this.state.keyword !== '' && this.state.filteredArticles.length === 0) articleContent = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, \"No Articles Found\");else {\n          articleContent = React.createElement(ArticleFeed, {\n            articles: articlesToLoop,\n            history: this.props.history,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          });\n        }\n      }\n      return React.createElement(\"div\", {\n        style: {\n          gridColumn: '1/-1'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(ArticlesHeader, {\n        inputChangeHandler: this.inputChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"Articles\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, articleContent));\n    }\n  }]);\n\n  return Articles;\n}(Component);\n\nArticles.propTypes = {\n  getArticles: PropTypes.func.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    articles: state.articles\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getArticles: getArticles\n})(withRouter(Articles));","map":{"version":3,"sources":["C:\\Users\\arhoy\\Desktop\\cravejs\\client\\src\\components\\articles\\Articles.js"],"names":["React","Component","PropTypes","connect","withRouter","getArticles","ArticleFeed","isEmpty","ArticlesHeader","Articles","filteredArticles","keyword","articles","results","e","target","value","state","filter","article","fields","title","toLowerCase","includes","trim","description","tags","join","setState","props","location","search","prevProps","selectArticles","loading","articleContent","articlesToLoop","length","history","gridColumn","inputChangeHandler","propTypes","func","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { getArticles } from '../../actions/articleActions';\r\nimport ArticleFeed from './ArticleFeed';\r\nimport isEmpty from '../../validation/is-empty';\r\nimport ArticlesHeader from './ArticlesHeader';\r\n\r\n\r\nclass Articles extends Component {\r\n  state = {\r\n    filteredArticles: [],\r\n    keyword: '',\r\n    articles: [],\r\n    results: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getArticles(this.props.location.search);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if(prevProps.articles !== this.props.articles){\r\n      const selectArticles = this.props.articles.articles.filter(article => article.fields.description != null)\r\n        this.setState({ articles: selectArticles })\r\n    \r\n    }\r\n}\r\n\r\n   inputChangeHandler = (e) => {\r\n    const keyword = e.target.value;\r\n\r\n\r\n    const filteredArticles = this.state.articles.filter(article => (\r\n        article.fields.title.toLowerCase().includes(keyword.toLowerCase().trim()) ||  \r\n        article.fields.description.toLowerCase().includes(keyword.toLowerCase().trim()) ||\r\n        article.fields.tags.join().toLowerCase().includes(keyword.toLowerCase().trim())\r\n      \r\n  \r\n    ))\r\n    this.setState({filteredArticles,keyword});\r\n  \r\n}\r\n\r\n  render() {\r\n    const { articles, loading } = this.props;\r\n    let articleContent;\r\n    if ( loading || isEmpty(articles.articles)) articleContent = <div> Loading </div>;\r\n      else {\r\n        const articlesToLoop = this.state.keyword === '' ? this.state.articles : this.state.filteredArticles;\r\n\r\n        if (this.state.keyword !== '' && this.state.filteredArticles.length === 0) articleContent = <div>No Articles Found</div>\r\n        \r\n        else {\r\n          articleContent = (\r\n            <ArticleFeed\r\n              articles={ articlesToLoop }\r\n              history={this.props.history}\r\n            />\r\n          );\r\n        }\r\n      }\r\n    \r\n    return (\r\n      <div style = {{gridColumn:'1/-1'}}>\r\n          <ArticlesHeader inputChangeHandler = {this.inputChangeHandler} />\r\n          <div className=\"Articles\">\r\n            {articleContent}\r\n          </div>\r\n     </div>\r\n    );\r\n  }\r\n}\r\n\r\nArticles.propTypes = {\r\n  getArticles: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  articles: state.articles\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getArticles }\r\n)(withRouter(Articles));\r\n"]},"metadata":{},"sourceType":"module"}