{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\arhoy\\\\Desktop\\\\cravejs\\\\client\\\\src\\\\components\\\\products\\\\Products.js\";\nimport React, { Component, Fragment } from 'react';\nimport Product from './Product';\nimport { connect } from 'react-redux';\nimport { getProducts } from '../../actions/productActions';\nimport LoadingSpinner from '../utils/LoadingSpinner';\nimport ProductsHeader from './ProductHeader';\n\nclass Products extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      filteredProducts: [],\n      keyword: '',\n      products: []\n    });\n\n    _defineProperty(this, \"inputChangeHandler\", e => {\n      const keyword = e.target.value;\n      const filteredProducts = this.state.products.filter(product => product.name.toLowerCase().includes(keyword.toLowerCase().trim()) || product.description.toLowerCase().includes(keyword.toLowerCase().trim()));\n      this.setState({\n        filteredProducts,\n        keyword\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.props.getProducts();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.products !== this.props.products) {\n      this.setState({\n        products: this.props.products.products\n      });\n    }\n  }\n\n  render() {\n    const {\n      products,\n      filteredProducts\n    } = this.state;\n\n    if (!products || products.length < 1) {\n      return React.createElement(\"div\", {\n        className: \"products__loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Loading Products\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Try reloading page if loading persists...\"), React.createElement(LoadingSpinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }));\n    } else {\n      const productsToLoop = this.state.keyword === '' ? products : filteredProducts;\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(ProductsHeader, {\n        inputChangeHandler: this.inputChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"products\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.state.keyword !== '' && this.state.filteredProducts.length === 0 ? React.createElement(\"div\", {\n        className: \"products__noResults\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \" Sorry, no results found!  \") : productsToLoop.map(product => React.createElement(Product, {\n        key: product._id,\n        id: product._id,\n        name: product.name,\n        description: product.description,\n        longDescription: product.longDescription,\n        imageUrl: product.imageUrl,\n        price: product.price,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }))));\n    }\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  products: state.products\n});\n\nexport default connect(mapStateToProps, {\n  getProducts\n})(Products);","map":{"version":3,"sources":["C:\\Users\\arhoy\\Desktop\\cravejs\\client\\src\\components\\products\\Products.js"],"names":["React","Component","Fragment","Product","connect","getProducts","LoadingSpinner","ProductsHeader","Products","filteredProducts","keyword","products","e","target","value","state","filter","product","name","toLowerCase","includes","trim","description","setState","componentDidMount","props","componentDidUpdate","prevProps","render","length","productsToLoop","inputChangeHandler","map","_id","longDescription","imageUrl","price","mapStateToProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AACA,OAAOC,cAAP,MAA2B,iBAA3B;;AAGA,MAAMC,QAAN,SAAuBP,SAAvB,CAAiC;AAAA;AAAA;;AAAA,mCACrB;AACJQ,MAAAA,gBAAgB,EAAE,EADd;AAEJC,MAAAA,OAAO,EAAE,EAFL;AAGJC,MAAAA,QAAQ,EAAE;AAHN,KADqB;;AAAA,gDAiBPC,CAAD,IAAO;AAExB,YAAMF,OAAO,GAAGE,CAAC,CAACC,MAAF,CAASC,KAAzB;AACA,YAAML,gBAAgB,GAAG,KAAKM,KAAL,CAAWJ,QAAX,CAAoBK,MAApB,CAA2BC,OAAO,IACvDA,OAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCV,OAAO,CAACS,WAAR,GAAsBE,IAAtB,EAApC,KACAJ,OAAO,CAACK,WAAR,CAAoBH,WAApB,GAAkCC,QAAlC,CAA2CV,OAAO,CAACS,WAAR,GAAsBE,IAAtB,EAA3C,CAFqB,CAAzB;AAKA,WAAKE,QAAL,CAAc;AAACd,QAAAA,gBAAD;AAAkBC,QAAAA;AAAlB,OAAd;AACH,KA1B4B;AAAA;;AAO7Bc,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,KAAL,CAAWpB,WAAX;AAEH;;AACDqB,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC1B,QAAGA,SAAS,CAAChB,QAAV,KAAuB,KAAKc,KAAL,CAAWd,QAArC,EAA8C;AAC1C,WAAKY,QAAL,CAAc;AAACZ,QAAAA,QAAQ,EAAE,KAAKc,KAAL,CAAWd,QAAX,CAAoBA;AAA/B,OAAd;AACH;AAEJ;;AAaDiB,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEjB,MAAAA,QAAF;AAAWF,MAAAA;AAAX,QAAgC,KAAKM,KAA3C;;AAEA,QAAI,CAACJ,QAAD,IAAaA,QAAQ,CAACkB,MAAT,GAAkB,CAAnC,EAAuC;AACnC,aACI;AAAK,QAAA,SAAS,EAAG,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAJJ,EAKI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CADJ;AASH,KAVD,MAWK;AACD,YAAMC,cAAc,GAAG,KAAKf,KAAL,CAAWL,OAAX,KAAuB,EAAvB,GAA4BC,QAA5B,GAAuCF,gBAA9D;AACA,aACA,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ,oBAAC,cAAD;AAAgB,QAAA,kBAAkB,EAAK,KAAKsB,kBAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADR,EAEQ;AAAK,QAAA,SAAS,EAAG,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,KAAKhB,KAAL,CAAWL,OAAX,KAAuB,EAAvB,IAA6B,KAAKK,KAAL,CAAWN,gBAAX,CAA4BoB,MAA5B,KAAuC,CAApE,GACI;AAAK,QAAA,SAAS,EAAG,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADJ,GAGAC,cAAc,CAACE,GAAf,CAAmBf,OAAO,IACtB,oBAAC,OAAD;AACI,QAAA,GAAG,EAAIA,OAAO,CAACgB,GADnB;AAEI,QAAA,EAAE,EAAIhB,OAAO,CAACgB,GAFlB;AAGI,QAAA,IAAI,EAAIhB,OAAO,CAACC,IAHpB;AAII,QAAA,WAAW,EAAID,OAAO,CAACK,WAJ3B;AAKI,QAAA,eAAe,EAAIL,OAAO,CAACiB,eAL/B;AAMI,QAAA,QAAQ,EAAIjB,OAAO,CAACkB,QANxB;AAOI,QAAA,KAAK,EAAIlB,OAAO,CAACmB,KAPrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CALJ,CAFR,CADA;AAwBH;AAEJ;;AAvE4B;;AA0EjC,MAAMC,eAAe,GAAGtB,KAAK,KAAK;AAC9BJ,EAAAA,QAAQ,EAAEI,KAAK,CAACJ;AADc,CAAL,CAA7B;;AAGA,eAAeP,OAAO,CAACiC,eAAD,EAAmB;AAAEhC,EAAAA;AAAF,CAAnB,CAAP,CAA2CG,QAA3C,CAAf","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport Product from './Product';\r\nimport { connect } from 'react-redux';\r\nimport { getProducts } from '../../actions/productActions';\r\nimport LoadingSpinner from '../utils/LoadingSpinner';\r\nimport ProductsHeader from './ProductHeader';\r\n\r\n\r\nclass Products extends Component {\r\n    state = {\r\n        filteredProducts: [],\r\n        keyword: '',\r\n        products: []\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.props.getProducts();\r\n        \r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.products !== this.props.products){\r\n            this.setState({products: this.props.products.products})\r\n        }\r\n      \r\n    }\r\n    inputChangeHandler = (e) => {\r\n    \r\n        const keyword = e.target.value;\r\n        const filteredProducts = this.state.products.filter(product => (\r\n            product.name.toLowerCase().includes(keyword.toLowerCase().trim()) ||\r\n            product.description.toLowerCase().includes(keyword.toLowerCase().trim())\r\n\r\n        ))\r\n        this.setState({filteredProducts,keyword});\r\n    }\r\n    \r\n    \r\n    render() {\r\n        const { products,filteredProducts } = this.state;\r\n\r\n        if( !products || products.length < 1 ) {\r\n            return (\r\n                <div className = \"products__loading\">\r\n                    <div>\r\n                        Loading Products\r\n                    </div>\r\n                    <div>Try reloading page if loading persists...</div>\r\n                    <LoadingSpinner/>\r\n                </div>\r\n            ) \r\n        }\r\n        else {\r\n            const productsToLoop = this.state.keyword === '' ? products : filteredProducts\r\n            return (\r\n            <Fragment>\r\n                    <ProductsHeader inputChangeHandler = { this.inputChangeHandler }/>\r\n                    <div className = \"products\">\r\n                    {\r\n                        this.state.keyword !== '' && this.state.filteredProducts.length === 0 ? \r\n                            <div className = \"products__noResults\"> Sorry, no results found!  </div>\r\n                        :\r\n                        productsToLoop.map(product=>(\r\n                            <Product\r\n                                key = {product._id}\r\n                                id = {product._id}\r\n                                name = {product.name}\r\n                                description = {product.description}\r\n                                longDescription = {product.longDescription}\r\n                                imageUrl = {product.imageUrl}\r\n                                price = {product.price}\r\n                            />\r\n                        ))\r\n                    }\r\n                    </div>\r\n     \r\n            </Fragment>\r\n            );\r\n        }\r\n       \r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    products: state.products\r\n})\r\nexport default connect(mapStateToProps , { getProducts })(Products);"]},"metadata":{},"sourceType":"module"}