{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\arhoy\\\\Desktop\\\\cravejs\\\\client\\\\src\\\\components\\\\utils\\\\form\\\\ResumeFileUpload.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Dropzone from 'react-dropzone';\nimport axios from 'axios';\nimport { addResume } from '../../../actions/resumeActions';\nconst maxFileSize = 1000000; // max size in bytes. ~ 10 megabyte.\n\nclass ResumeFileUpload extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      uploadedFiles: [],\n      uploading: false\n    });\n\n    _defineProperty(this, \"handleOnDrop\", (files, rejectedFiles) => {\n      if (files && files.length > 0) {\n        let formData = new FormData();\n        formData.append(\"file\", files[0]); // save and upload this to cloudinary\n\n        axios.post('/api/users/uploadimage', formData).then(response => {\n          this.setState({\n            uploading: false,\n            uploadedFiles: [...this.state.uploadedFiles, response.data]\n          });\n        }).catch(err => console.log('there was an error with upload to cloudinary'));\n      }\n\n      if (rejectedFiles && rejectedFiles.length > 0) {\n        if (rejectedFiles[0].size > maxFileSize) {\n          alert('File is to big!');\n        }\n      }\n    });\n  }\n\n  render() {\n    const {\n      uploadedFiles\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"fileupload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"fileupload__drag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(Dropzone, {\n      onDrop: this.handleOnDrop,\n      maxSize: maxFileSize,\n      className: \"fileupload__dropzone\",\n      multiple: this.props.multiple,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: \"plus-circle\",\n      style: {\n        color: 'black',\n        cursor: 'pointer',\n        fontSize: '4.5rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \" drag and drop file \"))), uploadedFiles.length > 0 ? React.createElement(\"div\", {\n      className: \"fileupload__show\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"fileupload__imagesContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, uploadedFiles.map(file => React.createElement(\"div\", {\n      className: \"fileupload__images\",\n      key: file.public_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: file.url,\n      alt: \"Uploaded File\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }))))) : null);\n  }\n\n}\n\nResumeFileUpload.defaultProps = {\n  multiple: false\n};\nexport default connect(null, {\n  addResume\n})(ResumeFileUpload);","map":{"version":3,"sources":["C:\\Users\\arhoy\\Desktop\\cravejs\\client\\src\\components\\utils\\form\\ResumeFileUpload.js"],"names":["React","Component","connect","FontAwesomeIcon","Dropzone","axios","addResume","maxFileSize","ResumeFileUpload","uploadedFiles","uploading","files","rejectedFiles","length","formData","FormData","append","post","then","response","setState","state","data","catch","err","console","log","size","alert","render","handleOnDrop","props","multiple","color","cursor","fontSize","map","file","public_id","url","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Dropzone from 'react-dropzone';\r\nimport axios from 'axios';\r\nimport { addResume } from '../../../actions/resumeActions';\r\n\r\nconst maxFileSize = 1000000; // max size in bytes. ~ 10 megabyte.\r\nclass ResumeFileUpload extends Component {\r\n\r\n    state = {\r\n        uploadedFiles:[],\r\n        uploading:false\r\n    }\r\n\r\n    handleOnDrop = ( files,rejectedFiles ) => {\r\n        if(files && files.length > 0) {\r\n            let formData = new FormData();\r\n            formData.append(\"file\",files[0]);\r\n\r\n            // save and upload this to cloudinary\r\n            axios.post('/api/users/uploadimage',formData)\r\n                .then( response => {\r\n                    this.setState({\r\n                        uploading:false,\r\n                        uploadedFiles:[\r\n                            ...this.state.uploadedFiles,\r\n                            response.data\r\n                        ]\r\n                    })\r\n                })\r\n                .catch ( err => console.log('there was an error with upload to cloudinary'))\r\n\r\n        }\r\n        if(rejectedFiles && rejectedFiles.length > 0){\r\n            if(rejectedFiles[0].size > maxFileSize){\r\n                alert('File is to big!');\r\n            }\r\n        }\r\n       \r\n    }\r\n\r\n\r\n    render() {\r\n        const { uploadedFiles } = this.state;\r\n        return (\r\n            <div className = \"fileupload\" >\r\n                        \r\n                     \r\n                    <div className=\"fileupload__drag\">\r\n                            <Dropzone\r\n                                onDrop = { this.handleOnDrop }\r\n                                maxSize = {maxFileSize}\r\n                                className = \"fileupload__dropzone\"\r\n                                multiple = {this.props.multiple}\r\n                            >\r\n                                <FontAwesomeIcon\r\n                                        icon=\"plus-circle\"\r\n                                        style = {{color:'black', cursor:'pointer',fontSize: '4.5rem'}}\r\n                                />\r\n                                <p> drag and drop file </p>\r\n                             \r\n                            </Dropzone>\r\n\r\n                           \r\n                    </div>\r\n                    {/* this mapping is from the currently uploaded files */}\r\n\r\n                    {\r\n                        uploadedFiles.length > 0  ? \r\n                        <div className = \"fileupload__show\">\r\n                            {\r\n                                    \r\n                                            <div className = \"fileupload__imagesContainer\">\r\n                                            {\r\n                                                uploadedFiles.map( file => (\r\n                                                    <div className = \"fileupload__images\"\r\n                                                        key = {file.public_id}\r\n                                                    >\r\n                                                        <img src={file.url} alt=\"Uploaded File\"/>\r\n                                                    </div>\r\n                                                ))\r\n                                            }\r\n                                            </div>\r\n                        \r\n                            }\r\n                       </div> \r\n                       : null\r\n                    }\r\n                   \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nResumeFileUpload.defaultProps = {\r\n    multiple: false\r\n  };\r\n\r\n\r\nexport default connect(null,{addResume})(ResumeFileUpload);\r\n\r\n"]},"metadata":{},"sourceType":"module"}