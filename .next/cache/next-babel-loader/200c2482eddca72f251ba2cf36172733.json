{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\arhoy\\\\Desktop\\\\cravejs\\\\client\\\\src\\\\components\\\\auth\\\\Register.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport TextFieldGroup from '../common/TextFieldGroup';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { registerUser, clearErrors } from '../../actions/authActions';\nimport { Link } from 'react-router-dom';\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Register)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      name: '',\n      email: '',\n      password: '',\n      password2: '',\n      errors: {}\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeHandler\", function (e) {\n      e.preventDefault();\n\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    });\n\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.auth.isAuthenticated) {\n        this.props.history.push('/dashboard');\n      }\n\n      this.props.clearErrors();\n    }\n  }, {\n    key: \"onSubmitHandler\",\n    value: function onSubmitHandler(e) {\n      e.preventDefault();\n      var newUser = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n        password2: this.state.password2\n      };\n      this.props.registerUser(newUser, this.props.history);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var errors = this.state.errors;\n      var signUpSuccess = this.props.auth.signUpSuccess;\n      return React.createElement(\"section\", {\n        className: \"section-register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"register__form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return _this2.onSubmitHandler(e);\n        },\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"u-margin-bottom-medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"heading-secondary\",\n        style: {\n          color: '#333',\n          fontWeight: '200'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Signup Today\")), React.createElement(TextFieldGroup, {\n        placeholder: \"Full Name\",\n        name: \"name\",\n        type: \"text\",\n        value: this.state.name,\n        onChange: function onChange(e) {\n          return _this2.onChangeHandler(e);\n        },\n        error: errors.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(TextFieldGroup, {\n        placeholder: \"Email\",\n        name: \"email\",\n        type: \"email\",\n        value: this.state.email,\n        onChange: this.onChangeHandler.bind(this),\n        error: errors.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(TextFieldGroup, {\n        placeholder: \"Password\",\n        name: \"password\",\n        type: \"password\",\n        value: this.state.password,\n        onChange: this.onChangeHandler.bind(this),\n        error: errors.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(TextFieldGroup, {\n        placeholder: \"Confirm Password\",\n        name: \"password2\",\n        type: \"password\",\n        value: this.state.password2,\n        onChange: this.onChangeHandler.bind(this),\n        error: errors.password2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form__group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn--primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Create My Account\")), signUpSuccess ? React.createElement(\"div\", {\n        className: \"register__success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \" Signup success!\") : null), React.createElement(\"p\", {\n        className: \"form__info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \" Already have an account? Sign in \", React.createElement(Link, {\n        className: \"form__link\",\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \" Here \"))))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if (props.errors !== state.errors) {\n        return {\n          errors: props.errors\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  clearErrors: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\n\nexport default connect(mapStateToProps, {\n  registerUser: registerUser,\n  clearErrors: clearErrors\n})(withRouter(Register));","map":{"version":3,"sources":["C:\\Users\\arhoy\\Desktop\\cravejs\\client\\src\\components\\auth\\Register.js"],"names":["React","Component","PropTypes","TextFieldGroup","withRouter","connect","registerUser","clearErrors","Link","Register","name","email","password","password2","errors","e","preventDefault","setState","target","value","props","auth","isAuthenticated","history","push","newUser","state","signUpSuccess","onSubmitHandler","color","fontWeight","onChangeHandler","bind","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { registerUser, clearErrors } from '../../actions/authActions';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nclass Register extends Component {\r\n \r\n    state = {\r\n          name: '',\r\n          email: '',\r\n          password: '',\r\n          password2: '',\r\n          errors: {}\r\n    \r\n      }\r\n\r\n      \r\n    componentDidMount() {\r\n        if(this.props.auth.isAuthenticated){\r\n            this.props.history.push('/dashboard');\r\n        }\r\n      \r\n        this.props.clearErrors();\r\n    }\r\n\r\n      static getDerivedStateFromProps (props, state) {\r\n        if(props.errors !== state.errors) {\r\n        return {errors: props.errors}\r\n        }\r\n        return null;\r\n    }\r\n\r\n    onChangeHandler = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onSubmitHandler(e) {\r\n        e.preventDefault();\r\n        const newUser = {\r\n          name: this.state.name,\r\n          email: this.state.email,\r\n          password: this.state.password,\r\n          password2: this.state.password2\r\n        };\r\n    \r\n         this.props.registerUser(newUser, this.props.history);\r\n   \r\n      }\r\n\r\n\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n        const { signUpSuccess } = this.props.auth;\r\n     \r\n        return (\r\n            <section className=\"section-register\">\r\n                <div className=\"row\">\r\n                    <div className=\"register\">\r\n                        <div className=\"register__form\">\r\n                            <form onSubmit = { (e) => this.onSubmitHandler(e) } className=\"form\">\r\n                            <div className=\"u-margin-bottom-medium\">\r\n                                <h2 className = \"heading-secondary\" style = {{color:'#333',fontWeight: '200'}} >\r\n                                    Signup Today\r\n                                </h2>\r\n                            </div>\r\n\r\n\r\n                                <TextFieldGroup\r\n                                placeholder=\"Full Name\"\r\n                                name=\"name\"\r\n                                type = \"text\"\r\n                                value={this.state.name}\r\n                                onChange = { (e) => this.onChangeHandler(e) } \r\n                                error={errors.name}\r\n                            />\r\n\r\n                            <TextFieldGroup\r\n                                placeholder=\"Email\"\r\n                                name=\"email\"\r\n                                type = \"email\"\r\n                                value={this.state.email}\r\n                                onChange = {this.onChangeHandler.bind(this)} \r\n                                error={errors.email}\r\n                            />\r\n\r\n                            <TextFieldGroup\r\n                                placeholder=\"Password\"\r\n                                name=\"password\"\r\n                                type = \"password\"\r\n                                value={this.state.password}\r\n                                onChange = {this.onChangeHandler.bind(this)} \r\n                                error={errors.password}\r\n                            />\r\n                            \r\n                            <TextFieldGroup\r\n                                placeholder=\"Confirm Password\"\r\n                                name=\"password2\"\r\n                                type = \"password\"\r\n                                value={this.state.password2}\r\n                                onChange = {this.onChangeHandler.bind(this)} \r\n                                error={errors.password2}\r\n                            />\r\n\r\n\r\n                            <div className=\"form__group\">\r\n                                <button type = \"submit\" className=\"btn btn--primary\">Create My Account</button>\r\n                            </div>\r\n                          {\r\n                              signUpSuccess ? \r\n                              <div className = \"register__success\"> Signup success!</div>:\r\n                              null\r\n                          }\r\n            \r\n                        </form>\r\n                        <p className = \"form__info\"> Already have an account? Sign in <Link className = \"form__link\" to = \"/login\"> Here </Link></p>\r\n                      </div>\r\n                   </div>\r\n                </div>\r\n        </section>\r\n        );\r\n    }\r\n}\r\n\r\nRegister.propTypes = {\r\n    registerUser: PropTypes.func.isRequired,\r\n    clearErrors: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n  };\r\n  \r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n  });\r\n\r\nexport default connect(mapStateToProps, { registerUser, clearErrors })(withRouter(Register));"]},"metadata":{},"sourceType":"module"}