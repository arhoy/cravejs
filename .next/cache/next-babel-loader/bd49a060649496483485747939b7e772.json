{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\arhoy\\\\Desktop\\\\cravejs\\\\client\\\\src\\\\components\\\\dashboard\\\\Dashboard.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getCurrentProfile, deleteProfile, deleteAccount } from '../../actions/profileActions';\nimport Moment from 'react-moment';\nimport Experience from './Experience';\nimport Education from './Education';\nimport LoadingSpinner from '../utils/LoadingSpinner';\nimport DashboardLinks from './DashboardLinks';\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      showDanger: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteAccountHandler\", function () {\n      _this.props.deleteAccount();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteProfileHandler\", function () {\n      _this.props.deleteProfile();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showDangerHandler\", function () {\n      _this.setState({\n        showDanger: !_this.state.showDanger\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getCurrentProfile();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var user = this.props.auth.user;\n      var _this$props$profile = this.props.profile,\n          profile = _this$props$profile.profile,\n          loading = _this$props$profile.loading;\n      var dashboardContent;\n\n      if (profile == null || loading) {\n        dashboardContent = React.createElement(React.Fragment, null, React.createElement(\"div\", {\n          className: \"dashboard__loading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, \"Loading Profile...\"), React.createElement(LoadingSpinner, {\n          bgColor: \"#eee\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }));\n      } else {\n        var displayName = user.name.split(' ')[0];\n\n        if (_Object$keys(profile).length > 0) {\n          dashboardContent = React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"Dashboard__welcome\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            className: \"Dashboard__title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, \" Your Dashboard \"), React.createElement(\"div\", {\n            className: \"Dashboard__user\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, \" \", \"\".concat(displayName, \"'s profile \"), \" \"), React.createElement(DashboardLinks, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"Dashboard__summary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, React.createElement(\"h4\", {\n            className: \"heading-secondary heading-secondary--blue\",\n            style: {\n              fontSize: '2.2rem'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, \"Profile Snapshot\"), React.createElement(\"div\", {\n            className: \"Dashboard__details\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"Dashboard__detail\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"Dashboard__detail-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, \"Headline: \", ' '), React.createElement(\"span\", {\n            className: \"Dashboard__detail-2\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }, profile.headline)), React.createElement(\"div\", {\n            className: \"Dashboard__detail\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"Dashboard__detail-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }, \"From : \", ' '), React.createElement(\"span\", {\n            className: \"Dashboard__detail-2\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, profile.city, \" \", profile.country)), React.createElement(\"div\", {\n            className: \"Dashboard__detail\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"Dashboard__detail-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, \"Join Date: \", ' '), React.createElement(\"span\", {\n            className: \"Dashboard__detail-2\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, React.createElement(Moment, {\n            format: \"MMM YYYY\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, profile.date))), React.createElement(\"div\", {\n            className: \"Dashboard__detail\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"Dashboard__detail-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, \"Career Status: \", ' '), React.createElement(\"span\", {\n            className: \"Dashboard__detail-2\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, profile.status)), React.createElement(\"div\", {\n            className: \"Dashboard__detail\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"Dashboard__detail-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, \"Current Company: \", ' '), React.createElement(\"span\", {\n            className: \"Dashboard__detail-2\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, profile.company)), React.createElement(\"div\", {\n            className: \"Dashboard__detail\",\n            style: {\n              marginBottom: '1rem'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"Dashboard__detail-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, \"My short bio: \", ' '), React.createElement(\"div\", {\n            className: \"Dashboard__detail-2\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, profile.bio ? profile.bio : 'No bio yet!'))), React.createElement(Link, {\n            className: \"Dashboard__viewProfileBtn btn-2 btn--blue\",\n            to: \"/profile/\".concat(profile.handle),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, \" View Public Profile \")), React.createElement(\"div\", {\n            className: \"Dashboard__experience\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }, React.createElement(Experience, {\n            experience: profile.experience,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            style: {\n              borderBottom: '2px solid black',\n              marginBottom: '2rem'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"Dashboard__education\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }, React.createElement(Education, {\n            education: profile.education,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            style: {\n              borderBottom: '2px solid black',\n              marginBottom: '2rem'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }), React.createElement(\"h2\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, \" Danger Zone\"), React.createElement(\"button\", {\n            className: \"Dashboard__btn Dashboard__btn-danger\",\n            onClick: this.showDangerHandler,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, this.state.showDanger ? 'Hide' : 'Show'), this.state.showDanger ? React.createElement(\"div\", {\n            className: \"Dashboard__dangerzone\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          }, \"Once you delete your profile, your education and work experience will be deleted as well. You will also no longer have a public profile and handle\"), React.createElement(\"button\", {\n            className: \"btn btn-2 btn--blue\",\n            onClick: this.deleteProfileHandler,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }, \"Delete Profile\"), React.createElement(\"div\", {\n            style: {\n              borderBottom: '2px solid black',\n              margin: '2rem 0'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, \"Once you delete your account, your profile and dashboard will be deleted and you will no longer be able to post. Your email address will also be deleted from the system and you will have to re-register.\"), React.createElement(\"button\", {\n            className: \"btn btn-2 btn--blue\",\n            onClick: this.deleteAccountHandler,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148\n            },\n            __self: this\n          }, \"Delete Account\")) : null);\n        } else {\n          dashboardContent = React.createElement(\"div\", {\n            className: \"Dashboard__welcome\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          }, React.createElement(\"h4\", {\n            className: \"Dashboard__title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164\n            },\n            __self: this\n          }, \" Your Dashboard \"), React.createElement(\"div\", {\n            className: \"Dashboard__user\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166\n            },\n            __self: this\n          }, \" \", \"\".concat(displayName, \"'s profile \"), \" \"), React.createElement(\"div\", {\n            className: \"Dashboard__getStarted\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            style: {\n              marginBottom: '2rem'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168\n            },\n            __self: this\n          }, \"Looks like you have not yet created a profile. Let's get started! \"), React.createElement(Link, {\n            className: \"btn btn--primary\",\n            to: \"/create-profile\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 170\n            },\n            __self: this\n          }, \" Create Profile \")));\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Dashboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, dashboardContent);\n    }\n  }]);\n\n  return Dashboard;\n}(Component);\n\nDashboard.propTypes = {\n  getCurrentProfile: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  profile: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    profile: state.profile,\n    auth: state.auth,\n    errors: state.errors\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getCurrentProfile: getCurrentProfile,\n  deleteProfile: deleteProfile,\n  deleteAccount: deleteAccount\n})(Dashboard);","map":{"version":3,"sources":["C:\\Users\\arhoy\\Desktop\\cravejs\\client\\src\\components\\dashboard\\Dashboard.js"],"names":["React","Component","Link","PropTypes","connect","getCurrentProfile","deleteProfile","deleteAccount","Moment","Experience","Education","LoadingSpinner","DashboardLinks","Dashboard","showDanger","props","setState","state","user","auth","profile","loading","dashboardContent","displayName","name","split","length","fontSize","headline","city","country","date","status","company","marginBottom","bio","handle","experience","borderBottom","education","showDangerHandler","deleteProfileHandler","margin","deleteAccountHandler","propTypes","func","isRequired","object","mapStateToProps","errors"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { getCurrentProfile, deleteProfile, deleteAccount } from '../../actions/profileActions';\r\nimport Moment from 'react-moment';\r\nimport Experience from './Experience';\r\nimport Education from './Education';\r\nimport LoadingSpinner from '../utils/LoadingSpinner';\r\nimport DashboardLinks from './DashboardLinks';\r\n\r\n\r\nclass Dashboard extends Component {\r\n\r\n    state = {\r\n      showDanger: false\r\n    }\r\n    componentDidMount() {\r\n        this.props.getCurrentProfile();\r\n     }\r\n\r\n     deleteAccountHandler = () => {\r\n      this.props.deleteAccount();\r\n     }\r\n     deleteProfileHandler = () => {\r\n        this.props.deleteProfile();\r\n     }\r\n     showDangerHandler = () => {\r\n       this.setState({ showDanger: !this.state.showDanger})\r\n     }\r\n\r\n    render() {\r\n\r\n            const { user } = this.props.auth;\r\n            const { profile, loading } = this.props.profile;\r\n   \r\n            let dashboardContent;\r\n            if(profile == null || loading ){\r\n              dashboardContent = ( \r\n                <>\r\n                    <div className = \"dashboard__loading\">Loading Profile...</div>\r\n                      <LoadingSpinner\r\n                        bgColor = '#eee'\r\n                      />\r\n                </>\r\n                 \r\n              )\r\n            }\r\n            else {\r\n              const displayName = user.name.split(' ')[0];\r\n\r\n                if(Object.keys(profile).length > 0){\r\n                  dashboardContent = (\r\n                    <React.Fragment>\r\n                        <div className=\"Dashboard__welcome\">\r\n                              <h3 className = \"Dashboard__title\"> Your Dashboard </h3>\r\n                              <div className = \"Dashboard__user\"> { `${displayName}'s profile `} </div>\r\n                              <DashboardLinks/>\r\n                        </div>\r\n                      <div className = \"Dashboard__summary\">\r\n                      <h4 className = \"heading-secondary heading-secondary--blue\" style = {{fontSize:'2.2rem'}}>Profile Snapshot</h4>\r\n                          <div className=\"Dashboard__details\">\r\n\r\n                               <div className=\"Dashboard__detail\">\r\n                                    <span className=\"Dashboard__detail-1\"> \r\n                                      Headline: {' '}\r\n                                    </span>\r\n                                    <span className=\"Dashboard__detail-2\"> \r\n                                      {profile.headline}\r\n                                    </span>    \r\n                                </div>\r\n                                <div className=\"Dashboard__detail\">\r\n                                    <span className=\"Dashboard__detail-1\"> \r\n                                      From : {' '}\r\n                                    </span>\r\n                                    <span className=\"Dashboard__detail-2\"> \r\n                                      {profile.city} {profile.country}\r\n                                    </span>    \r\n                                </div>\r\n                                <div className=\"Dashboard__detail\">\r\n                                    <span className=\"Dashboard__detail-1\"> \r\n                                      Join Date: {' '}\r\n                                    </span> \r\n                                    <span className=\"Dashboard__detail-2\">\r\n                                    <Moment format = \"MMM YYYY\">{profile.date}</Moment>\r\n                                    </span> \r\n                                </div>\r\n                                <div className=\"Dashboard__detail\">\r\n                                    <span className=\"Dashboard__detail-1\"> \r\n                                    Career Status: {' '}\r\n                                    </span> \r\n                                    <span className=\"Dashboard__detail-2\">\r\n                                      {profile.status}\r\n                                    </span> \r\n                                </div>\r\n                                <div className=\"Dashboard__detail\">\r\n                                    <span className=\"Dashboard__detail-1\"> \r\n                                      Current Company: {' '}\r\n                                    </span>\r\n                                    <span className=\"Dashboard__detail-2\"> \r\n                                      {profile.company}\r\n                                    </span>    \r\n                                </div>\r\n                                <div className=\"Dashboard__detail\" style = {{marginBottom: '1rem'}}>\r\n                                    <span className=\"Dashboard__detail-1\"> \r\n                                      My short bio: {' '}\r\n                                    </span>\r\n                                    <div className=\"Dashboard__detail-2\"> \r\n                                      { profile.bio ? profile.bio : 'No bio yet!' }\r\n                                    </div> \r\n                                </div>\r\n                            </div>\r\n                            <Link className = \"Dashboard__viewProfileBtn btn-2 btn--blue\" to = {`/profile/${profile.handle}`}> View Public Profile </Link>\r\n\r\n                      </div>\r\n                       \r\n\r\n                      \r\n\r\n                        <div className=\"Dashboard__experience\">\r\n                              <Experience experience = {profile.experience} />\r\n                        </div>\r\n\r\n                        <div style = {{borderBottom: '2px solid black', marginBottom:'2rem'}} />\r\n\r\n                        <div className=\"Dashboard__education\">\r\n                              <Education education = {profile.education} />\r\n                        </div>\r\n\r\n                        <div style = {{borderBottom: '2px solid black', marginBottom:'2rem'}} />\r\n                        <h2> Danger Zone</h2>\r\n                        <button className = \"Dashboard__btn Dashboard__btn-danger\" onClick = {this.showDangerHandler}>\r\n                           {this.state.showDanger? 'Hide':'Show'}\r\n                        </button>\r\n                        {\r\n                          this.state.showDanger ?\r\n                            <div className = \"Dashboard__dangerzone\">\r\n                                <p>\r\n                                  Once you delete your profile, your education and work experience will be deleted as well.\r\n                                  You will also no longer have a public profile and handle\r\n                                </p>\r\n                                <button className = \"btn btn-2 btn--blue\" onClick = {this.deleteProfileHandler}>Delete Profile</button>\r\n                                <div style = {{borderBottom: '2px solid black', margin:'2rem 0'}} />\r\n                                <p>\r\n                                  Once you delete your account, your profile and dashboard will be deleted and you will no longer be able to post.\r\n                                  Your email address will also be deleted from the system and you will have to re-register.\r\n                                </p>\r\n                                <button className = \"btn btn-2 btn--blue\" onClick = {this.deleteAccountHandler}>Delete Account</button>\r\n                            </div>\r\n                          :null\r\n                        }\r\n                       \r\n                       \r\n                        \r\n                   \r\n                    </React.Fragment>\r\n                  )\r\n              }\r\n\r\n                else{\r\n                  \r\n                    dashboardContent = (\r\n                        <div className=\"Dashboard__welcome\">\r\n                          <h4 className = \"Dashboard__title\"> Your Dashboard </h4>\r\n                         \r\n                          <div className = \"Dashboard__user\"> { `${displayName}'s profile `} </div>\r\n                          <div className=\"Dashboard__getStarted\">\r\n                              <p style = {{marginBottom: '2rem'}}>Looks like you have not yet created a profile. Let's get started! </p>\r\n\r\n                              <Link className = \"btn btn--primary\" to = \"/create-profile\"> Create Profile </Link>\r\n                          </div>\r\n                      </div>\r\n                    )\r\n                }\r\n            }\r\n\r\n            \r\n      \r\n        return (\r\n            <div className=\"Dashboard\">\r\n               {dashboardContent}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDashboard.propTypes = {\r\n  getCurrentProfile: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  profile: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profile,\r\n  auth: state.auth,\r\n  errors:state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCurrentProfile, deleteProfile, deleteAccount })(Dashboard);\r\n"]},"metadata":{},"sourceType":"module"}